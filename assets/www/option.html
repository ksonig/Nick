<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" charset="utf-8" src="js/cordova.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery-latest.js"></script>
<script type="text/javascript" charset="utf-8">

	var pictures = new Array(10);
	var capture_counter = 0;
	var img_counter = 0;
    var destinationType;
	var pictureSource;  
	
	
  document.addEventListener("deviceready",onDeviceReady,false);
     
	function onDeviceReady() {
		
          pictureSource = navigator.camera.PictureSourceType;
          destinationType = navigator.camera.DestinationType;
		  
		  pictures[0] = new Image(300, 300);
		  
		  pictures[1] = new Image(300, 300);
		  pictures[2] = new Image(300, 300);
		  pictures[3] = new Image(300, 300);
		  pictures[4] = new Image(300, 300);
		  pictures[5] = new Image(300, 300);
		  pictures[6] = new Image(300, 300);
		  pictures[7] = new Image(300, 300);
		  pictures[8] = new Image(300, 300);
		  pictures[9] = new Image(300, 300);
		  
		  $(".next_btn").hide();
		  $(".previous_btn").hide();
    }
	
	
	
	function onPhotoDataSuccess(imageData) {
		
      var imgDisplay = document.getElementById('imgDisplay');
	  
      var src_data = "data:image/jpeg;base64," + imageData;
	  
	   pictures[capture_counter].src = src_data;
	   
	   capture_counter++;
	   
	   $(".next_btn").show();
	  
    }
	
	function capturePhoto() {
		//alert("hiiii");
     navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50,destinationType: destinationType.DATA_URL });
   
    }
	
	 function onFail(message) {
		 
      alert('Failed because: ' + message);
	  
    }
	
	
	 function nextImage(){
	  
	  document.imgDisplay.src = pictures[img_counter].src;
	  
	  img_counter++;
	  
	  if(img_counter == capture_counter){
		  
		  $(".next_btn").hide();
		  
		  }
	  
	   $(".previous_btn").show();
	   
	  } 
	  
	  function previousImage(){
	  
	  --img_counter;
	  
	  document.imgDisplay.src = pictures[img_counter].src;
	  
	  if(img_counter == 0){
		  
		// location.href="option.html"
		  
		  }
		  
	 $(".next_btn").show();  
	  
	  }
 </script>
</head>
<body>
<header>
	<div class="back_btn">
    	<a href="#"class="back">Back </a>
    </div>
       
    <div class="get_opinion">
    	<a href="#">Get Opinion!</a>
    </div>
      
    <div class="cost_btn">
    	<a class="cost" href="#">Cost</a>
    </div>
</header>

<div class="next_btn">
	<img style="width:70%;height:8%;" src="img/next.png" onclick="nextImage()"/>
</div>

<div class="previous_btn">
	<img style="width:18%;height:8%;" src="img/previous.png" onclick="previousImage()"/>
</div>

<center>
    <span id="capture_button">
    <a href="#" onclick="capturePhoto();">
        <img style="width:320px; height:370px;" id="imgDisplay" name = "imgDisplay" src="img/capture.png" />
    </a>
    </span>
</center>

<footer>
  <div class="back_btn home_btn">
    	<a href="index.html"class="back">Home</a>
  </div>
   <div class="cost_btn">
    	<a class="cost" href="#">Submit</a>
  </div>
</footer>
</body>
</html>